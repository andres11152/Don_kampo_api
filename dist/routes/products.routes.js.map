{"version":3,"file":"products.routes.js","names":["express","multer","getProducts","getProductById","createProduct","updateProduct","deleteProduct","handleMulterError","parseMultipartData","optimizeImage","storage","memoryStorage","upload","limits","fileSize","router","Router","post","single","get","put","delete"],"sources":["../../src/routes/products.routes.js"],"sourcesContent":["import express from 'express';\r\nimport multer from 'multer';\r\nimport { getProducts, getProductById, createProduct, updateProduct, deleteProduct } from '../controllers/products.controller.js';\r\nimport { handleMulterError, parseMultipartData } from '../middlewares/validateData.js';\r\nimport { optimizeImage } from '../middlewares/imageMiddleware.js';\r\n\r\nconst storage = multer.memoryStorage();\r\nconst upload = multer({\r\n  storage: storage,\r\n  limits: { fileSize: 5 * 1024 * 1024 }, \r\n});\r\n\r\nconst router = express.Router();\r\n\r\nrouter.post('/api/createproduct', upload.single('photo_url'), handleMulterError, optimizeImage, parseMultipartData, createProduct);\r\nrouter.get('/api/products', getProducts); \r\nrouter.get('/api/getproduct/:id', getProductById);  \r\nrouter.put('/api/updateproduct/:id', handleMulterError, updateProduct);\r\nrouter.delete('/api/deleteproduct/:id', deleteProduct);\r\n\r\nexport default router;\r\n\r\n"],"mappings":"AAAA,OAAOA,OAAO,MAAM,SAAS;AAC7B,OAAOC,MAAM,MAAM,QAAQ;AAC3B,SAASC,WAAW,EAAEC,cAAc,EAAEC,aAAa,EAAEC,aAAa,EAAEC,aAAa,QAAQ,uCAAuC;AAChI,SAASC,iBAAiB,EAAEC,kBAAkB,QAAQ,gCAAgC;AACtF,SAASC,aAAa,QAAQ,mCAAmC;AAEjE,MAAMC,OAAO,GAAGT,MAAM,CAACU,aAAa,CAAC,CAAC;AACtC,MAAMC,MAAM,GAAGX,MAAM,CAAC;EACpBS,OAAO,EAAEA,OAAO;EAChBG,MAAM,EAAE;IAAEC,QAAQ,EAAE,CAAC,GAAG,IAAI,GAAG;EAAK;AACtC,CAAC,CAAC;AAEF,MAAMC,MAAM,GAAGf,OAAO,CAACgB,MAAM,CAAC,CAAC;AAE/BD,MAAM,CAACE,IAAI,CAAC,oBAAoB,EAAEL,MAAM,CAACM,MAAM,CAAC,WAAW,CAAC,EAAEX,iBAAiB,EAAEE,aAAa,EAAED,kBAAkB,EAAEJ,aAAa,CAAC;AAClIW,MAAM,CAACI,GAAG,CAAC,eAAe,EAAEjB,WAAW,CAAC;AACxCa,MAAM,CAACI,GAAG,CAAC,qBAAqB,EAAEhB,cAAc,CAAC;AACjDY,MAAM,CAACK,GAAG,CAAC,wBAAwB,EAAEb,iBAAiB,EAAEF,aAAa,CAAC;AACtEU,MAAM,CAACM,MAAM,CAAC,wBAAwB,EAAEf,aAAa,CAAC;AAEtD,eAAeS,MAAM","ignoreList":[]}